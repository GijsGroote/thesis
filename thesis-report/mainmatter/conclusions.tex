\chapter{Conclusions}%
\label{chap:conclusion}
\textit{This chapter provides an analysis addressing the main- and sub research questions. By referencing previously established insights, evidence is presented to support the conclusions drawn in this chapter.\bs}

This thesis \todo{2 sentence summary}



This thesis starts with answering the main research question, that is: \textit{How to combine learning and planning for push and drive applications?} The answer has been given in \Cref{chap:required_background,chap:hgraph_and_kgraph}, 



\paragraph{Answering the Main Research Question}\mbox{}\\

The main research question:
\begin{center}
  {\large How to combine learning and planning for push and drive applications?}
\end{center}

The main research question can be answered in multiple ways. Mostly because object system models and environmental knowledge improves task execution in multiple ways. A classification of an object that is movable or unmovable improves affordance. Probabilistic action sequences that involve pushing unmovable objects cannot occur when object classification is present. Some (not all) system constraints that are captured by the system model, find in \Cref{pseudocode:proposed_rrt_star}, line 33 the \textit{reachablilityCheck} where the learned system model prevents the planner from creating an unfeasible path. Thus System models improve paths found by the motion or manipulation planner, this conclusion remains unproven since the evidence is not provided. Lastly, system models in combination with a controller (and edge parameterization) improve task execution in many metrics. For which evidence is proved for metrics prediction error and execution time in \Cref{chap:results}.\bs
\todo{Martijn: Overall comment: I read the main question in the introduction, and then immediately switched to here to read the answer. I honestly cannot follow this text.}



\todo{answer}

\paragraph{Answering the Research Subquestion}\mbox{}\\

Research subquestion~\ref{researchsubquestion:does_it_work}:
\begin{center}
\large How to combine learning and planning for push and drive applications?
\end{center}

\todo{answer}


\Cref{chap:hgraph_and_kgraph} is dedicated to presenting the proposed framework. It has been shown that the proposed framework that consists of the \ac{halgorithm}, the \ac{hgraph} and the \ac{kgraph} work together can combine learning and planning with the technique of backward search. The proposed framework searches in the composite configuration space.\todo{Corrado: NExt senctende: What does this imply?} A search directly in composite space would result in the curse of dimensionality and is prevented by search only in a single mode of dynamics. Where a search is performed for a drive or push action. The \ac{hgraph} is a graph-based structure that presents how the \ac{halgorithm} is trying to complete a subtask. The structure of the \ac{hgraph} is used to enforce the backward search technique, in which the \ac{halgorithm} searches from the target configuration toward the start configuration. Newly gained environmental knowledge is stored in the \ac{kgraph}, which firstly holds information on objects and if they can be manipulated, and secondly holds information on how they can be best manipulated. The \ac{kgraph} can be filled with newly learned environmental knowledge and can be queried for action suggestions.\bs

Research subquestion~\ref{researchsubquestion:does_it_remember}:
\begin{center}
\large To what extend is the combination of the three topics; \\learning object dynamics, the \ac{NAMO} problem and nonprehensile pushing influenced by environmental experience?
\end{center}

\todo{answer}

Research subquestion~\ref{researchsubquestion:does_it_compare}:
\begin{center}
\large How does the proposed framework compare against the state-of-the-art?
\end{center}

\todo{answer}




The proposed framework was able to perform as well, better or worse compared to the state-of-the-art, depending on which metric is taken into account. The proposed framework was tested against existing methods which only combine a subset of the 3 main topics that the proposed framework combines. 
The results discussed in \Cref{chap:results} are compared to the state-of-the-art papers in \Cref{sec:compare_with_related_papers}. Five state-of-the-art papers are used to compare against the proposed framework. In the comparison success rate, planning time, execution time and several calls to the planner are used to compare. From the results, it can be concluded that the proposed framework learns relatively fast (prediction error comparison with~\cite{wang_affordancebased_2020}). The proposed framework can complete all of its assigned subtasks, giving it a comparable success rate to the state-of-the-art (success rate comparison with~\cite{ellis_navigation_2022}). This thesis does not have small prediction errors or low final position errors, it can be seen that the prediction errors are worse compared to the state-of-the-art (final position errors comparison with~\cite{sabbaghnovin_model_2021}). \bs

The proposed framework improves upon the state-of-the-art exactly in its field of focus, improving task execution over time. It has been shown to learn faster compared to the state-of-the-art. Especially when the same or similar task is given to solve multiple times. Execution and planning times are equal or improved compared to the state-of-the-art. Lastly, prediction errors and final position errors are mainly worse compared to the state-of-the-art, which can be improved by better-designed controllers and more accurate system models. 




\section{Future work}%
\label{sec:future_work}
Possible extensions to the proposed framework and improvements on the proposed framework are grouped in this section.\bs

\subsection{Removing Assumptions}
Every assumption taken in \Cref{chap:introduction} serves to simplify the problem and to narrow the scope of this thesis. They can however all be removed. Starting with assumption \hyperref[assumption:closed_world]{\textbf{closed-world assumption}}, without this assumption the proposed framework must be much more robust. The proposed framework can with the help of this assumption conclude many conclusions deterministically. Examples are the feedback on edges and the classification of an object as unmovable or movable. In real-world applications unmovable objects can become movable, to make the transition toward removing the closed-world assumption the proposed framework must be converted to a probabilistic variant.\bs

Moving from simulation toward the real world must remove the \hyperref[assumption:perfect_object_sensor]{\textbf{perfect object sensor assumption}}. Sensors and sensor fusion is required to estimate the configuration of the robot itself and objects in the environment. A start is to test the proposed framework with noise added to the perfect sensor.\bs

The \hyperref[assumption:order_does_not_matter]{\textbf{tasks are commutative assumption}} assumption makes it possible to randomly select a subtask without influencing the feasibility of the task. Removing this assumption can require an additional rearrangement algorithm~\cite{krontiris_dealing_2015} to be run to determine a feasible order of handling subtasks.\bs

The \hyperref[assumption:no_tipping]{\textbf{objects do not tip over assumption}} prevents objects from tipping over, but at the same time limits the number of objects. There are many possibilities to handle tipped objects. First, adding a tipping detector can detect when an object has tipped over. Then the proposed framework can threaten the objects as a new object and reclassify it. Another method would be a dedicated subroutine to place it in an upright position.\bs

%
% \todo[inline]{The hgraph could think of new hypotheses during execution time if it would operate async, which would greatly improve it.}
% \todo[inline]{\cite{krontiris_dealing_2015} This thing could be calculated before everything, check the backward search you've commented out entirely}
\todo{system identificaiton instead of hard-coded models}
